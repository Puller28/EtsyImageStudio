Outpainted Mockups API — Endpoints & Parameters
Endpoint	Method	Purpose	Parameters (Form / Query)	Defaults / Notes	Returns
/healthz	GET	Health check + list available styles	(none)	Styles, default target_px	JSON
/utils/fit_under_1mb	POST	Resize/compress uploaded image to ≤ given bytes	file (UploadFile, required); max_bytes (int, default 1000000); max_side (int, default 4096); format (jpeg/png, default jpeg); min_quality (int, default 60)	Preserves aspect ratio; returns image ≤ target size	JSON: format, mime type, bytes, width, height, image_b64
/outpaint/mockup_single	POST	Generate 1 mockup for chosen style	file (required); style (string, default living_room); target_px (int, default 2048); pad_ratio (float, default 0.42); normalize_ratio (string, optional, e.g. "4:5"); mat_pct (float, optional); overlay_original (0/1, default 1); return_format (png/json, default png); filename (string, default mockup_single)	Uses strict preserve so original art pixels are untouched	PNG or JSON with image_b64
/outpaint/mockup	POST	Generate multiple mockups (multi-style or multi-variant)	file (required); styles (comma-separated, default all styles); target_px (int, default 2048); pad_ratio (float, default 0.42); normalize_ratio (string, optional); mat_pct (float, optional); variants (int, default 5, max 10 if single style); overlay_original (0/1, default 1); make_print_previews (0/1, default 0); return_format (json/png/zip, default json); filename (string, default mockup_bundle)	Multiple styles → 1 each; Single style → N variants; Optional print-size previews	JSON (map of style/variant to image_b64), PNG (single), or ZIP of all
Available Styles

living_room

bedroom

study

gallery

kitchen

Special Behaviour Notes

Strict Preserve: All mockup endpoints mask the artwork precisely and reinsert the original pixels to avoid any AI repaint inside the art.

Variants Mode: In /outpaint/mockup, if you give only 1 style and set variants=N, you get N different AI outputs of the same style prompt.

Previews: The make_print_previews flag in /outpaint/mockup generates scaled images for predefined print sizes — this is slower and mostly for internal testing.

File Size Safety: Use /utils/fit_under_1mb before mockup generation for large uploads to avoid hitting memory limits on Render or Replit.